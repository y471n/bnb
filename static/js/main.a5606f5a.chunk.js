(this.webpackJsonpbnb=this.webpackJsonpbnb||[]).push([[0],{164:function(e,t,n){e.exports=n(348)},169:function(e,t,n){},347:function(e,t,n){},348:function(e,t,n){"use strict";n.r(t);var a=n(1),l=n.n(a),r=n(47),c=n.n(r),o=(n(169),n(134)),s=n(33),u=a.memo((function(e){var t=e.currentValue,n=e.history;return a.createElement(a.Fragment,null,a.createElement("span",{className:n.length>1&&n[n.length-2].val<t?"text-success":"text-danger"},t))})),m=a.createContext(null),i=function(){return a.useContext(m)},d=function(e){var t=e.updatedAt,n=(new Date).getTime()-t,a=Math.floor(n/1e3);return l.a.createElement(l.a.Fragment,null,a," seconds ago")},E=function(e){var t=e.name,n=e.stockObj,a=i();return l.a.createElement("tr",{key:t,className:(null===a||void 0===a?void 0:a.selectedStock)===t?"selected":"",onClick:function(){null===a||void 0===a||a.setSelectedStock(t)}},l.a.createElement("td",null,t),l.a.createElement("td",null,l.a.createElement(u,{currentValue:n.val,history:n.history})),l.a.createElement("td",null,l.a.createElement(d,{updatedAt:n.history[n.history.length-1].time})))},v=function(){var e=i();return a.createElement("table",null,a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Stock"),a.createElement("th",null,"Price"),a.createElement("th",null,"Updated At"))),a.createElement("tbody",null,e&&e.stocks&&Object.entries(e.stocks).map((function(e){var t=Object(s.a)(e,2),n=t[0],l=t[1];return a.createElement(E,{key:n,name:n,stockObj:l})}))))},h=n(15),f=function(){var e=i();return console.log(e),a.createElement("div",null,e&&e.stocks&&e.selectedStock&&a.createElement(a.Fragment,null,a.createElement(h.d,{width:500,height:300,data:e.stocks[e.selectedStock].history,margin:{top:5,right:30,left:20,bottom:5}},a.createElement(h.a,{strokeDasharray:"5 5"}),a.createElement(h.g,{dataKey:"val"}),a.createElement(h.f,{dataKey:"readableTime"}),a.createElement(h.c,{type:"monotone",dataKey:"val",stroke:"#8884d8",activeDot:{r:8}}),a.createElement(h.b,null)),a.createElement(h.e,null)),a.createElement("br",null))},g=function(e){var t=new Date(e),n=t.getHours(),a=t.getMinutes(),l=t.getSeconds();return"".concat(n,":").concat(a,":").concat(l)},k=function(){var e=a.useState(void 0),t=Object(s.a)(e,2),n=t[0],l=t[1],r=a.useState(void 0),c=Object(s.a)(r,2),u=c[0],i=c[1],d=a.useMemo((function(){return{stocks:n,selectedStock:u,setStocks:l,setSelectedStock:i}}),[u,n,l,i]),E=function(e){var t=JSON.parse(e.data);l(function(e){for(var t=n?Object(o.a)({},n):{},a=0;a<e.length;a+=1){var l=e[0],r=l[0],c=Number(Number(l[1]).toFixed(2)),s=Date.now(),u={time:s,val:c,readableTime:g(s)};if(t&&t[r]){var m=t[r].history;m[m.length-1].val!==c&&(t[r].val=c,t[r].history.push(u))}else t[r]={val:c,history:[u]}}return t}(t))};return a.useEffect((function(){var e=new WebSocket("ws://stocks.mnet.website/");return e.onmessage=E,function(){return e.close()}})),a.createElement("div",null,a.createElement(m.Provider,{value:d},a.createElement("div",{className:"container"},a.createElement("div",{className:"row flex-spaces"},a.createElement("div",{className:"col-3"},n&&a.createElement(v,null)),a.createElement("div",{className:"col-5"},a.createElement(f,null))))))};n(347);var b=function(){return l.a.createElement("div",{className:"App"},l.a.createElement("h1",null,l.a.createElement("span",{className:"text-success"},"Bulls")," &"," ",l.a.createElement("span",{className:"text-danger"},"Bears")),l.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[164,1,2]]]);
//# sourceMappingURL=main.a5606f5a.chunk.js.map